<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

<f:section name="content">
    <f:if condition="{trainers -> f:count()} > 10">
        <div class="kriterium">
            <f:form action="index" object="{trainerSearch}" name="trainerSearch">
                <div class="row">
                    <div class="col-5">
                        <label for="vorname">Vorname</label>
                        <f:form.textfield property="vorname" id="vorname" class="breite100" />
                    </div>
                    <div class="col-5">
                        <label for="nachname">Nachname</label>
                        <f:form.textfield property="nachname" id="nachname" class="breite100" />
                    </div>
                    <div class="col-2">
                        <f:form.submit value="Suche" class="knopf-s2 suche" />
                    </div>
                </div>
                <f:if condition="{trainerSearch.used}">
                    <div class="row">
                        <div class="col">
                            <p><span class="label">Gesucht wurde nach:</span> <span class="suchwort">»{trainerSearch.vorname} {trainerSearch.nachname}«</span></p>
                            <p>
                                <f:link.page class="knopf-s2 suchezurueck">Suche zurücksetzen</f:link.page>
                            </p>
                            <p>&nbsp;</p>
                        </div>
                    </div>
                </f:if>
            </f:form>
        </div>
    </f:if>

    <div class="formzeile">
        <f:link.action action="new" class="formlink trainer">Neue/n Trainer/in anlegen</f:link.action>
    </div>

    <f:flashMessages/>

    <f:if condition="{trainers}">

        <table class="tx_ieb trainer">
            <tr>
                <th class="nachname">
                    &nbsp;
                    </td>
                    <th class="vorname">
                        &nbsp;
                    </th>
                    <th>letzte Änderung</th>
                    <th>vollständig</th>
                    <th class="td-knopf" colspan="3">

                    </th>
            </tr>
            <f:for each="{trainers}" as="trainer">
                <f:if condition="!{trainer.archiviert}">
                    <tr class="{f:if(condition:trainer.ok,then:'istok',else:'unok')}">
                        <td class="nachname">
                            {trainer.nachname}
                        </td>
                        <td class="vorname">
                            {trainer.vorname}
                        </td>
                        <td>{trainer.tstamp -> f:format.date(format:'d.m.Y')}</td>
                        <td class="">
                            <f:if condition="{trainer.ok}">
                                <f:then>
                                    ja
                                </f:then>
                                <f:else>
                                    nein
                                </f:else>
                            </f:if>

                        </td>
                        <td class="td-knopf">
                            <f:link.action action="show" title="Datensatz anzeigen" class="knopf-quadratisch show" arguments="{trainer : trainer}">
                            </f:link.action>
                        </td>
                        <td class="td-knopf">
                            <f:link.action action="archive" title="Datensatz archivieren" class="knopf-quadratisch hide" arguments="{trainer : trainer}">
                            </f:link.action>
                        </td>
                        <td class="td-knopf">
                            <f:link.action action="edit" title="Datensatz bearbeiten" class="knopf-quadratisch edit" arguments="{trainer : trainer}">
                            </f:link.action>
                        </td>
                    </tr>
                </f:if>
            </f:for>
        </table>

        <div class="abstand-mittel"></div>
        <div class="archiv">
            <h2>ARCHIV</h2>
            <table class="tx_ieb standortliste">
                <f:for each="{trainers}" as="trainer">
                    <f:if condition="{trainer.archiviert}">
                        <tr class="{f:if(condition:trainer.ok,then:'istok',else:'unok')}">
                            <td class="nachname">
                                {trainer.nachname}
                            </td>
                            <td class="vorname">
                                {trainer.vorname}
                            </td>
                            <td>{trainer.tstamp -> f:format.date(format:'d.m.Y')}</td>
                            <td class="">
                                <f:if condition="{trainer.ok}">
                                    <f:then>
                                        ja
                                    </f:then>
                                    <f:else>
                                        nein
                                    </f:else>
                                </f:if>

                            </td>
                            <td class="td-knopf">
                                <f:link.action action="show" title="Datensatz anzeigen" class="knopf-quadratisch show" arguments="{trainer : trainer}">
                                </f:link.action>
                            </td>
                            <td class="td-knopf">
                                <f:link.action action="revive" title="Datensatz wiederherstellen" class="knopf-quadratisch revive" arguments="{trainer : trainer}">
                                </f:link.action>
                            </td>
                            <td class="td-knopf">

                            </td>
                        </tr>
                    </f:if>
                </f:for>
            </table>
        </div>


    </f:if>

    <div class="formzeile">
        <f:link.action action="new" class="formlink trainer">Neue/n Trainer/in anlegen</f:link.action>
    </div>
</f:section>

</html>